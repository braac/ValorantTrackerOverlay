var f=w=>{throw TypeError(w)};var l=(w,t,i)=>t.has(w)||f("Cannot "+i);var d=(w,t,i)=>(l(w,t,"read from private field"),i?i.call(w):t.get(w)),h=(w,t,i)=>t.has(w)?f("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(w):t.set(w,i),u=(w,t,i,e)=>(l(w,t,"write to private field"),e?e.call(w,i):t.set(w,i),i),c=(w,t,i)=>(l(w,t,"access private method"),i);var n,s,r;class g{constructor(){h(this,n)}addEventListeners(t){t!=null&&t.onWindowStateChanged&&(d(this,n)&&overwolf.windows.onStateChanged.removeListener(d(this,n)),u(this,n,i=>{if(i.window_state_ex==="opened")return;const e=i.window_name,o=i.window_state_ex,a=i.window_previous_state_ex;t.onWindowStateChanged(e,o,a)}),overwolf.windows.onStateChanged.addListener(d(this,n))),console.log("[Window Service] Event listeners are active now.")}removeEventListeners(){overwolf.windows.onStateChanged.removeListener(d(this,n)),u(this,n,null),console.log("[Window Service] Event listeners are inactive now.")}static getWindow(t){return new Promise(i=>{overwolf.windows.getWindow(t,e=>{e.success?i({id:e.window.name,state:e.window.stateEx,width:e.window.width,height:e.window.height,leftOffset:e.window.left,topOffset:e.window.top,isVisible:e.window.isVisible}):i(null)})})}static getCurrentWindow(){return new Promise(t=>{overwolf.windows.getCurrentWindow(i=>{i.success?t({id:i.window.name,state:i.window.stateEx,width:i.window.width,height:i.window.height,leftOffset:i.window.left,topOffset:i.window.top,isVisible:i.window.isVisible}):t(null)})})}static getWindowState(t){return new Promise(i=>{overwolf.windows.getWindowState(t,e=>{e.success?i(e.window_state_ex):i(null)})})}static getWindowsStates(){return new Promise(t=>{overwolf.windows.getWindowsStates(i=>{i.success?t(Object.keys(i.resultV2).reduce((e,o)=>(e[o]={state:i.resultV2[o]},e),{})):t(null)})})}static async restore(t){return await c(this,s,r).call(this,t),new Promise(i=>{overwolf.windows.restore(t,e=>{i(e.success)})})}static async hide(t){return await c(this,s,r).call(this,t),new Promise(i=>{overwolf.windows.hide(t,e=>{i(e.success)})})}static async minimize(t){return await c(this,s,r).call(this,t),new Promise(i=>{overwolf.windows.minimize(t,e=>{i(e.success)})})}static async maximize(t){return await c(this,s,r).call(this,t),new Promise(i=>{overwolf.windows.maximize(t,e=>{i(e.success)})})}static close(t){return new Promise(i=>{overwolf.windows.close(t,e=>{i(e.success)})})}static changeSize(t,i,e){return new Promise(o=>{overwolf.windows.changeSize({window_id:t,width:Math.ceil(i),height:Math.ceil(e),auto_dpi_resize:!0},a=>{o(a.success)})})}static changePosition(t,i=0,e=0){return new Promise(o=>{overwolf.windows.changePosition(t,Math.ceil(i)||0,Math.ceil(e)||0,a=>{o(a.success)})})}static dragMove(t){return new Promise(i=>{overwolf.windows.dragMove(t,e=>{i(e.success)})})}static bringToFront(t,i=!1){return new Promise(e=>{overwolf.windows.bringToFront(t,i,o=>{e(o.success)})})}}n=new WeakMap,s=new WeakSet,r=function(t){return new Promise(i=>{overwolf.windows.obtainDeclaredWindow(t,e=>{e.success?i({id:e.window.name,state:e.window.stateEx,width:e.window.width,height:e.window.height,leftOffset:e.window.left,topOffset:e.window.top,isVisible:e.window.isVisible}):i(null)})})},h(g,s);export{g as W};
