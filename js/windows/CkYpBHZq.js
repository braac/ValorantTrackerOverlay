import{n as c,c as i,b as g,A as m,V as o}from"../GIZWWUBJ.js";import{a as _,c as p,o as v}from"../czEuRU47.js";import{_ as f,a as A,S as k}from"../B665Ppvl.js";import{V as b,T as y}from"../PLxxIHgE.js";const C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAn1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8Kd3m4AAAANHRSTlMA+/L47rsT2KwY5mIi4dvQnQ4IzMeYMygQCwS8sKmiiHlzZ1pMOjHAtpCBU0Y1LPXobUAdD56CzgAAAWhJREFUOMutkde6gjAQhNnQQRBBxV4Qsfd5/2c7SSAg3+HSuSHJ/Ew2u9oPZV23q76XukPb2eTuf3ubGASw1O0DxOx1r+0PVgQhdueAEJntkLFXHts9yyxRfdcC9kb5WzHT7iVBfgdgj2Wa3QFcJeBMZD1LCWxawEb/AhwILb/9WKYivDVXwPh66PQEKZrfLGtcPYMWVt2E8wMVEZhmQGoTKaLw0Cm2r4BeCGPI2uYjCfAs1BwS3rc8ocam0L8y2HWZR2CkxZc5VXY/G2hnYDhRwAg4iiR/qAt765Zni6kCtop2R0QLGRwveepMATnB2MV8kQaA8eaL2TsEmmanHj9f+j03Atc8/VyiJ0G/NJ1+kaiNMQLp4iu3J1WCSMydUI7Li079qqWZ8BtN777JkdUuW3M7eRX1E5uUMwOMoxMAuppCWyZqeYMuINOVT2utS5+wDrhpnVqrWThxN7Cfr5zDYREdfO2X+gOwBEMA2LnkhwAAAABJRU5ErkJggg==",w={__name:"Round",props:{round:{type:Object,required:!0},isOvertime:{type:Boolean,default:!1}},setup(n){const t=n,s=i(()=>t.round.id),e=i(()=>t.round.resultId),a=i(()=>Math.max(0,t.round.stats.kills-t.round.stats.headshots)),u=i(()=>t.round.stats.headshots),d=i(()=>t.round.stats.deaths);return{__sfc:!0,props:t,id:s,result:e,kills:a,headshots:u,deaths:d}}};var M=function(){var t=this,s=t._self._c,e=t._self._setupProxy;return s("div",{class:["round",e.result]},[s("div",{class:["kills",{overflow:e.kills+e.headshots>5}]},[t._l(e.kills,function(a){return s("img",{key:-a,staticClass:"icon",attrs:{src:f,alt:"Kill"}})}),t._l(e.headshots,function(a){return s("img",{key:+a,staticClass:"icon",attrs:{src:C,alt:"Headshot"}})})],2),s("div",{staticClass:"result"}),s("div",{staticClass:"deaths"},t._l(e.deaths,function(a){return s("img",{key:a,staticClass:"icon",attrs:{src:A,alt:"Death"}})}),0),s("div",{staticClass:"number"},[t._v(t._s(t.isOvertime?"OT":e.id))])])},R=[],L=c(w,M,R,!1,null,"1f835a7d");const S=L.exports,I={__name:"MatchTimeline",props:{rounds:{type:Array,required:!0},playlistId:{type:String,required:!0}},setup(n){const t=n,s=i(()=>{switch(t.playlistId){case"competitive":case"premier":case"unrated":return 25;case"swiftplay":return 9;case"spikerush":return 7;case"replication":return 9;default:return 0}}),e=i(()=>{const r=[];for(;t.rounds.length+r.length<s.value;){const h=t.rounds.length+r.length+1;r.push({id:h,sideId:null,resultId:null,stats:{kills:0,deaths:0,assists:0,headshots:0}})}const l=t.rounds.concat(r);return l.length>27?l.slice(l.length-27,l.length):l}),a=i(()=>Math.floor(s.value/2)),u=i(()=>e.value.filter(r=>r.id<=a.value)),d=i(()=>e.value.filter(r=>r.id>a.value));return{__sfc:!0,props:t,maxRounds:s,timeline:e,middle:a,rounds1:u,rounds2:d,Round:S,SwitchIcon:k}}};var D=function(){var t=this,s=t._self._c,e=t._self._setupProxy;return s("div",{staticClass:"match-timeline"},[t._l(e.rounds1,function(a){return s(e.Round,{key:a.id,attrs:{round:a,"is-overtime":e.maxRounds>0&&a.id>=e.maxRounds}})}),e.maxRounds>0&&e.rounds1.length>0?s("div",{staticClass:"objective-switch"},[s("div"),s("div",{staticClass:"container"},[s(e.SwitchIcon,{staticClass:"icon"})],1),s("div"),s("div")]):t._e(),t._l(e.rounds2,function(a){return s(e.Round,{key:a.id,attrs:{round:a,"is-overtime":e.maxRounds>0&&a.id>=e.maxRounds}})})],2)},V=[],x=c(I,D,V,!1,null,"43050f03");const B=x.exports,H={name:"Timeline",components:{MatchTimeline:B,ValorantAppLogo:b,TrackerNetworkLogo:y},data(){return{zoom:1,background:this.$background}},created(){const n=Math.min(this.background.game.height,this.background.game.logicalHeight)/1080;this.zoom=Math.min(n,1.5),console.log("Height: "+this.background.game.height),console.log("Logical height: "+this.background.game.logicalHeight),console.log("Zoom: "+this.zoom)},computed:{name(){return this.background.extension.name},rounds(){return this.background.game.session.rounds},isRoundBased(){return this.background.game.session.match.isRoundBased},playlistId(){return this.background.game.session.match.playlistId},stats(){const n=this.background.game.session.stats,t=n.headHits+n.bodyHits+n.legsHits,s=this.isRoundBased?this.rounds.filter(a=>a.resultId).length:this.rounds.filter(a=>a.stats.deaths>0).length,e=[{label:"Hits",value:t.toLocaleString()},{label:"Head Hit %",value:(t>0?Math.round(100*n.headHits/t):0)+"%"}];return this.isRoundBased?(e.push({label:"DMG",value:Math.round(n.damageDealt).toLocaleString()}),e.push({label:"DMG/RND",value:s>0?Math.round(n.damageDealt/s).toLocaleString():0}),e.push({label:"DDÎ”/RND",value:s>0?Math.round((n.damageDealt-n.damageRecieved)/s).toLocaleString():0})):(e.push({label:"Damage",value:Math.round(n.damageDealt).toLocaleString()}),e.push({label:"Avg. Damage",value:s>0?Math.round(n.damageDealt/s).toLocaleString():0})),e},isPlaylistSupported(){return![].includes(this.playlistId)},isVisible(){return["deathmatch","escalation"].includes(this.playlistId)?["shopping","combat"].includes(this.background.game.session.round.phaseId):this.rounds.length>0}}};var E=function(){var t=this,s=t._self._c;return t.isVisible?s("div",{staticClass:"timeline",style:{zoom:t.zoom}},[s("div",{staticClass:"title-bar"},[s("div",{staticClass:"app"},[s("ValorantAppLogo",{staticClass:"logo"}),s("div",[s("span",{staticClass:"name"},[t._v(t._s(t.name))]),s("span",{staticClass:"by"},[t._v("by")]),s("TrackerNetworkLogo",{staticClass:"tracker-network"})],1)],1),s("div",{staticClass:"delimiter"}),t.isPlaylistSupported?s("div",{staticClass:"stats"},t._l(t.stats,function(e,a){return s("div",{key:a,staticClass:"stat"},[s("div",{staticClass:"label"},[t._v(t._s(e.label))]),s("div",{staticClass:"value"},[t._v(t._s(e.value))])])}),0):t._e()]),s("div",{staticClass:"container"},[s("match-timeline",{attrs:{rounds:t.rounds,"playlist-id":t.playlistId}})],1)]):t._e()},T=[],P=c(H,E,T,!1,null,"d35b7481");const O=P.exports,Q="1.26.1",$=new g({apiKey:m.BUGSNAG_API_KEY,appVersion:Q});window.bugsnag=$.getInstance();o.prototype.$background=overwolf.windows.getMainWindow().background;o.config.productionTip=!1;o.config.ignoredElements=["stream"];o.directive("auth",_);o.directive("click-outside",p);o.directive("open-url",v);window.isProduction=!0;new o({render:n=>n(O)}).$mount("#app");
